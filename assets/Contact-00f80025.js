import{_,a as w,l as y,c as g,b as e,d as t,w as k,r as d,o as p,n as a,F as v,g as q,t as C}from"./index-09e68c4e.js";import{s as L}from"./swal-e4da1902.js";const F={mixins:[L],data(){return{images:[]}},methods:{sendQuest(s){console.log(s),this.loadings.fullLoading=!0,this.$http.post("https://metarverspace-server.onrender.com/contacts",{name:s.姓名.trim(),tel:s.電話,email:s.email,images:this.images,content:s.遇到的問題}).then(()=>{this.$refs.form.resetForm(),this.images=[],this.loadings.fullLoading=!1,this.userToast("success","成功提交問題")}).catch(r=>{this.loadings.fullLoading=!1,this.userToast("error",r.message)})},handleFile(s){console.log(s.target.files[0]);const r=s.target.files[0],c=new FormData;if(c.append("image",r),r.size>2*1024*1024){this.userAlert("warning","圖片上傳失敗","圖片需小於 2MB");return}r&&(this.loadings.fullLoading=!0,this.$http.post("https://api.imgur.com/3/image",c,{headers:{Authorization:"Client-ID 0361c3fa7d90333"},mimeType:"multipart/form-data"}).then(o=>{this.images.push({name:r.name,src:o.data.data.link}),this.loadings.fullLoading=!1,this.userToast("success","圖片上傳成功")}).catch(o=>{this.loadings.fullLoading=!1,this.userAlert("error","圖片上傳失敗",o.response.data.data.error)}))}},computed:{...w(y,["loadings"])}},V={class:"container mt-nav"},B={class:"pt-6 px-2 w-full max-w-2xl mx-auto"},E=e("h1",{class:"bg-white/20 border text-gray-300 py-6 text-xl md:text-2xl text-center rounded-t"}," 聯絡客服團隊 ",-1),M={class:"pb-6 border-b"},S=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-white"},"您的姓名",-1),D=e("label",{for:"tel",class:"block mt-6 mb-2 text-sm font-medium text-white"},"您的電話 (請輸入手機格式：09)",-1),T=e("label",{for:"email",class:"block mt-6 mb-2 text-sm font-medium text-white"},"您的Email",-1),z=e("label",{for:"message",class:"block mt-6 mb-2 text-sm font-medium text-white"},"您遇到的問題",-1),A={class:"mt-6 mb-4 md:mb-6 flex flex-col md:flex-row"},j=["disabled"],N=e("p",{class:"mt-6 md:mt-0 md:ml-4 text-sm md:text-md"}," (最多 5 張圖，圖片需小於 2MB) ",-1),Q=e("p",{class:"mt-4 text-sm md:text-md"}," 您提供之姓名、電子信箱等個人資料僅供本服務相關目的及範圍內處理或使利用，絕對不向任何人提供您的個人資訊。 ",-1),$=e("div",{class:"mt-6 w-full flex justify-end"},[e("button",{type:"submit",class:"primary-button"},"提交問題")],-1);function I(s,r,c,o,l,f){const i=d("V-field"),n=d("ErrorMessage"),x=d("font-awesome-icon"),b=d("V-form");return p(),g("div",V,[e("div",B,[E,t(b,{ref:"form",class:"border px-4 py-8 rounded-b",onSubmit:f.sendQuest},{default:k(({errors:m})=>[e("div",M,[S,t(i,{type:"text",id:"name",name:"姓名",class:a(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":m.姓名}]),rules:"required",placeholder:"請輸入姓名",required:""},null,8,["class"]),t(n,{name:"姓名",class:"text-warm text-sm"}),D,t(i,{type:"tel",id:"tel",name:"電話",class:a(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":m.電話}]),rules:"required|phone",placeholder:"請輸入電話",required:""},null,8,["class"]),t(n,{name:"電話",class:"text-warm text-sm"}),T,t(i,{type:"email",id:"email",name:"email",class:a(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":m.email}]),rules:"required|email",placeholder:"請輸入Email",required:""},null,8,["class"]),t(n,{name:"email",class:"text-warm text-sm"}),z,t(i,{id:"message",name:"遇到的問題",as:"textarea",rows:"4",class:a(["block p-2.5 w-full text-sm bg-gray-600 border-gray-500 placeholder-gray-400 rounded-lg border focus:ring-primary focus:border-primary text-white",{"border-warm":m.遇到的問題}]),rules:"required",placeholder:"請詳述您的問題",required:""},null,8,["class"]),t(n,{name:"遇到的問題",class:"text-warm text-sm"}),e("div",A,[e("div",null,[e("label",{for:"file",class:a(["whitespace-nowrap w-20 focus:outline-none focus:ring-4 font-medium rounded text-sm px-5 py-2.5 hover:bg-secondary2 focus:ring-secondary3",[l.images.length===5?"bg-secondary2 text-gray-400 cursor-not-allowed":"bg-secondary cursor-pointer"]])},"上傳圖片",2),e("input",{id:"file",type:"file",accept:"image/png, image/jpeg",class:"absolute top-0 w-0",onChange:r[0]||(r[0]=u=>f.handleFile(u)),disabled:l.images.length===5},null,40,j)]),N]),(p(!0),g(v,null,q(l.images,(u,h)=>(p(),g("div",{class:"ml-4 flex items-center",key:h},[e("p",null,C(u.name),1),t(x,{icon:["fas","xmark"],class:"ml-4 cursor-pointer text-warm hover:text-warm2 text-lg",onClick:G=>l.images.splice(h,1)},null,8,["onClick"])]))),128))]),Q,$]),_:1},8,["onSubmit"])])])}const K=_(F,[["render",I]]);export{K as default};
