import{_ as f,a as y,l as w,c as v,b as e,d as s,w as u,t as c,i as _,x as k,v as V,r as n,o as D,h as E,n as m}from"./index-727fbaff.js";import{s as T}from"./swal-e4da1902.js";const{VITE_RENDER_API:g}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"metaverspace",VITE_RENDER_API:"https://metarverspace-server.onrender.com",BASE_URL:"/MetaverSpace/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},R={mixins:[T],data(){return{branches:[],branch:{},branchTitle:"台北館",date:null,num:1,allowDates:[]}},methods:{getBranches(){this.loadings.fullLoading=!0,this.$http.get(`${g}/branches`).then(o=>{this.branches=o.data,this.branch=o.data[0],this.loadings.fullLoading=!1}).catch(o=>{this.loadings.fullLoading=!1,this.userToast("error",o.message)})},getBranch(){this.branches.forEach(o=>{o.title===this.branchTitle&&(this.branch=o)})},createReserve(o){this.loadings.fullLoading=!0,this.$http.post(`${g}/reserves`,{title:this.branchTitle,reserve_time:Date.parse(this.date),num:this.num,name:o.姓名.trim(),tel:o.電話,email:o.email,message:o.備註,is_reserve:!1}).then(()=>{this.userToast("success","預約成功"),this.num=1,this.$refs.form.resetForm(),this.loadings.fullLoading=!1}).catch(r=>{this.loadings.fullLoading=!1,this.userToast("error",r.message)})}},computed:{...y(w,["loadings"])},mounted(){this.date=new Date(new Date(Date.now()+2*24*60*60*1e3).setHours(10,0,0,0)),this.allowDates=Array.from({length:14},(o,r)=>new Date(Date.now()+(r+2)*24*60*60*1e3)),this.getBranches()}},S={class:"container mt-nav px-2 lg:px-0"},M={class:"flex flex-col md:flex-row justify-between items-center pt-8"},B=e("h1",{class:"text-primary text-2xl md:text-3xl font-bold"}," MetaverSpace 預約體驗 ",-1),I={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},L={class:"lg:col-span-2 bg-black/50 rounded p-6"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},A={class:"text-xl md:text-2xl mb-8 font-semibold"},F={class:"space-y-6"},P={class:"text-lg md:text-xl"},C={class:"ml-4"},H={class:"text-lg md:text-xl"},N={class:"ml-4"},U={class:"text-lg md:text-xl"},j={class:"ml-4"},z={class:"text-lg md:text-xl"},O={class:"ml-5"},W={class:"text-lg md:text-xl"},G=["href"],J=["src","alt"],K=["src"],Q=e("h3",{class:"text-gray-300 py-3 text-lg md:text-xl font-bold border-b-2"}," 門市預約 ",-1),X={class:"mt-6 space-y-6"},Y=e("label",{for:"district",class:"block mb-2 text-sm font-medium text-white"},"選擇門市",-1),Z=e("option",{value:"台北館",class:"bg-white/20",selected:""}," 台北館 ",-1),$=e("option",{value:"台中館",class:"bg-white/20"},"台中館",-1),ee=e("option",{value:"高雄館",class:"bg-white/20"},"高雄館",-1),te=[Z,$,ee],se={class:"grid grid-cols-3 gap-6"},oe={class:"col-span-full sm:col-span-2"},re=e("label",{for:"time",class:"block mb-2 text-sm font-medium text-white"},"預約時間",-1),le={class:"col-span-full sm:col-span-1"},ae=e("label",{for:"num",class:"block mb-2 text-sm font-medium text-white"},"人數 (1~10)",-1),ne={class:"mt-10"},ie=e("h3",{class:"text-gray-300 py-3 text-lg md:text-xl font-bold border-b-2"}," 預約人資訊 ",-1),ce=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-white"},"姓名",-1),de=e("label",{for:"phone",class:"block mb-2 text-sm font-medium text-white"},"電話 (請輸入手機格式：09)",-1),me=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-white"},"Email",-1),he=e("label",{for:"message",class:"block mb-2 text-sm font-medium text-white"},"備註",-1),ue={class:"mt-8 flex flex-col"},_e={class:"flex items-center"},ge=e("label",{for:"agreeCheck",class:"ml-2 text-sm font-medium text-gray-300"},"我已詳閱並同意以下約定條款",-1),pe=e("div",null,[e("p",{class:"text-sm"}," 1. 預約查詢經審核後顯示預約成功才算完成預約。 "),e("p",{class:"mt-2 text-sm"}," 2. 若需取消預約請於 1 小時前於線上或來電取消。 "),e("p",{class:"mt-2 text-sm"}," 3. 逾時 15 分鐘未入場將自動取消並列入黑名單。 ")],-1),be=e("button",{type:"submit",class:"mt-6 w-full primary-button"}," 送出預約 ",-1);function xe(o,r,fe,ye,t,h){const a=n("FontAwesomeIcon"),p=n("RouterLink"),b=n("VueDatePicker"),i=n("VField"),d=n("ErrorMessage"),x=n("VForm");return D(),v("div",S,[e("div",M,[B,s(p,{to:"/ReserveHistory",class:"mt-4 md:mt-0 w-32 focus:outline-none focus:ring-4 font-medium rounded text-sm px-5 py-2.5 bg-secondary hover:bg-secondary2 focus:ring-secondary3"},{default:u(()=>[E(" 預約查詢 "),s(a,{icon:["fas","arrow-up-right-from-square"],class:"ml-2"})]),_:1})]),e("div",I,[e("div",L,[e("div",q,[e("div",null,[e("h2",A," MetaverSpace "+c(t.branch.title),1),e("div",F,[e("h5",P,[s(a,{icon:["fas","location-dot"],class:"ml-1"}),e("span",C,c(t.branch.address),1)]),e("h5",H,[s(a,{icon:["fas","phone"]}),e("span",N,c(t.branch.tel),1)]),e("h5",U,[s(a,{icon:["fas","clock"]}),e("span",j,c(t.branch.open_time),1)]),e("h5",z,[s(a,{icon:["fas","dollar-sign"],class:"ml-1"}),e("span",O,c(t.branch.price),1)]),e("h5",W,[s(a,{icon:["fab","facebook"]}),e("a",{href:t.branch.facebook,target:"_blank",class:"ml-4 hover:underline hover:text-primary"},"前往 Facebook",8,G)])])]),e("div",null,[e("img",{src:t.branch.image,class:"w-full h-[420px] object-cover object-center",alt:t.branch.title},null,8,J)])]),e("iframe",{class:"w-full h-[240px] sm:h-[360px] md:h-[480px] mx-auto border-0 rounded mt-8",src:t.branch.src,loading:"lazy",allowfullscreen:"",referrerpolicy:"no-referrer-when-downgrade"},null,8,K)]),e("div",null,[Q,e("div",X,[e("div",null,[Y,_(e("select",{id:"district",class:"border text-sm rounded w-full p-2 bg-gray-600 border-gray-500 text-white focus:ring-primary focus:border-ring-primary","onUpdate:modelValue":r[0]||(r[0]=l=>t.branchTitle=l),onChange:r[1]||(r[1]=l=>h.getBranch())},te,544),[[k,t.branchTitle]])]),e("div",se,[e("div",oe,[re,s(b,{modelValue:t.date,"onUpdate:modelValue":r[2]||(r[2]=l=>t.date=l),format:"yyyy/MM/dd HH:mm","allowed-dates":t.allowDates,"start-time":{hours:10,minutes:0},"min-time":{hours:10,minutes:0},"max-time":{hours:21,minutes:0},"minutes-increment":"30","no-minutes-overlay":"","select-text":"確定","cancel-text":"取消",locale:"zh-TW",dark:""},null,8,["modelValue","allowed-dates"])]),e("div",le,[ae,_(e("input",{type:"number",id:"num",min:"1",class:"text-end border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary","onUpdate:modelValue":r[3]||(r[3]=l=>t.num=l),onBlur:r[4]||(r[4]=()=>{t.num<1&&(t.num=1),t.num>10&&(t.num=10)}),required:""},null,544),[[V,t.num,void 0,{number:!0}]])])])]),e("div",ne,[ie,s(x,{class:"mt-6 space-y-6",ref:"form",onSubmit:h.createReserve},{default:u(({errors:l})=>[e("div",null,[ce,s(i,{type:"text",name:"姓名",id:"name",class:m(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":l.姓名}]),rules:"required",placeholder:"請輸入姓名",required:""},null,8,["class"]),s(d,{name:"姓名",class:"text-warm text-sm"})]),e("div",null,[de,s(i,{type:"tel",name:"電話",id:"name",class:m(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":l.電話}]),rules:"required|phone",placeholder:"請輸入電話",required:""},null,8,["class"]),s(d,{name:"電話",class:"text-warm text-sm"})]),e("div",null,[me,s(i,{type:"tel",name:"email",id:"name",class:m(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":l.email}]),rules:"required|email",placeholder:"請輸入email",required:""},null,8,["class"]),s(d,{name:"email",class:"text-warm text-sm"})]),e("div",null,[he,s(i,{id:"message",as:"textarea",name:"備註",rows:"4",class:"block p-2.5 w-full text-sm bg-gray-600 border-gray-500 placeholder-gray-400 rounded-lg border focus:ring-primary focus:border-primary text-white",placeholder:"請輸入備註"})]),e("div",ue,[e("div",_e,[s(i,{id:"agreeCheck",type:"checkbox",name:"同意",value:!0,class:m(["w-4 h-4 text-primary rounded focus:ring-primary ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600",{"border-warm":l.同意}]),rules:"agree"},null,8,["class"]),ge]),s(d,{name:"同意",class:"text-warm text-sm ml-6 mt-1"})]),pe,be]),_:1},8,["onSubmit"])])])])])}const ke=f(R,[["render",xe]]);export{ke as default};
