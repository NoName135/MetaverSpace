import{f as _,c as m}from"./favoriteStore-827391ce.js";import{_ as b,m as h,a as p,c as a,b as t,f as u,F as f,g as x,r as w,o,n as y,t as n,j as k,h as C,i as F,z as B}from"./index-e391bf13.js";import{s as $}from"./swal-3e866175.js";const j={mixins:[$],methods:{moveToCart(e,c){this.cart.carts.some(i=>i.product_id===e.id)?this.userToast("warning","此商品已在購物車"):this.addCart(e,1,c)},deleteFavorite(e){this.$swal.fire({title:"刪除收藏商品",text:`確定要刪除 ${e.title}？`,icon:"warning",confirmButtonColor:"#FE5F50",confirmButtonText:"確定刪除",backdrop:" rgba(0,0,0,0.8)",showCancelButton:!0,cancelButtonColor:"#6b7280"}).then(c=>{c.isConfirmed&&this.updateFavorite(e)})},...h(_,["getFavorite","updateFavorite"]),...h(m,["addCart"])},computed:{...p(_,["favorites","cart_specs"]),...p(m,["cartLoading","cart"])},mounted(){}},T={class:"mt-nav"},V={class:"container px-2 md:px-0 pt-8"},S={class:"border-2 rounded-lg xl:mx-48 overflow-hidden"},z=t("h1",{class:"p-4 bg-black/50 text-xl font-bold border-b-2"},"收藏清單",-1),L={key:0,class:"mt-10 text-center text-3xl"},N={class:"px-8 pb-4"},M=["src"],U={class:"col-span-full md:col-span-4 flex flex-col justify-between"},A={class:"flex justify-between items-center"},D={class:"text-lg lg:text-xl"},E={key:1,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},I=t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),H=t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),q=[I,H],G={class:"text-xl lg:text-2xl mt-4 lg:mt-6"},J={class:"md:flex justify-between items-center mt-4"},K={class:"text-lg lg:text-xl"},O={class:"font-bold"},P={class:"flex flex-col sm:flex-row justify-between sm:justify-end items-end md:items-end mt-4 md:mt-1"},Q={key:0,class:"text-sm sm:mr-3"},R={key:1},W=["id","onUpdate:modelValue"],X=t("option",{selected:"",disabled:"",value:"",class:"bg-dark/10"}," 選擇規格 ",-1),Y=["value"],Z=["disabled","onClick"];function tt(e,c,i,et,st,d){const g=w("font-awesome-icon");return o(),a("div",T,[t("div",V,[t("div",S,[z,e.favorites.length?u("",!0):(o(),a("p",L," 收藏清單沒有商品 ")),t("ul",N,[(o(!0),a(f,null,x(e.favorites,(s,r)=>(o(),a("li",{class:y(["py-8 grid grid-cols-5 gap-6",{"border-t":r>0}]),key:s.id},[t("img",{src:s.imageUrl,alt:"",class:"hidden md:flex self-center w-full h-28 lg:h-32 xl:h-40 object-cover rounded bg-white"},null,8,M),t("div",U,[t("div",null,[t("div",A,[t("h2",D,n(s.brand),1),e.cartLoading.cartId!==s.id?(o(),k(g,{key:0,icon:["fas","trash-can"],class:"text-xl lg:text-2xl hover:text-warm cursor-pointer",onClick:l=>d.deleteFavorite(s)},null,8,["onClick"])):(o(),a("svg",E,q))]),t("h3",G,n(s.title),1)]),t("div",null,[t("div",J,[t("h5",K,[C(" 售價："),t("span",O,"NT$ "+n(e.$filters.currency(s.price)),1)]),t("div",P,[s.spec?(o(),a("p",Q," ※ 請先選擇規格 ")):(o(),a("div",R)),s.spec?F((o(),a("select",{key:2,id:`spec${r}`,class:"mt-4 sm:mt-0 border text-sm rounded p-2 bg-gray-600 border-gray-500 text-white focus:ring-primary","onUpdate:modelValue":l=>e.cart_specs[r]=l},[X,(o(!0),a(f,null,x(s.spec,(l,v)=>(o(),a("option",{key:v,value:l,class:"bg-dark/10"},n(l),9,Y))),128))],8,W)),[[B,e.cart_specs[r]]]):u("",!0),t("button",{type:"button",class:"mt-4 sm:mt-0 primary-button sm:ml-3",disabled:s.spec&&!e.cart_specs[r]||e.cartLoading.cartId===s.id,onClick:l=>d.moveToCart(s,e.cart_specs[r])}," 加入購物車 ",8,Z)])])])])],2))),128))])])])])}const lt=b(j,[["render",tt]]);export{lt as default};
