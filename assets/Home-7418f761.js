import{C as N}from"./index-9908806f.js";import{c as M}from"./cartStore-97cb8960.js";import{f as V}from"./favoriteStore-46484bd2.js";import{m as P,a as S,_ as E,r as m,o as l,c as r,b as e,d as i,w as p,e as x,t as c,f as y,F,g as z,n as v,h as g,i as R,v as U,j as H,k as q,l as A,p as I}from"./index-1ed9712d.js";const D={data(){return{windowTop:0,navToggled:!1,navCollapse:"",cartCollapse:"",favCollapse:"",targetLink:""}},methods:{onScroll(s){this.windowTop=s.target.documentElement.scrollTop},hideCollapse(){this.navCollapse.collapse(),this.cartCollapse.collapse(),this.favCollapse.collapse()},toggleNav(){this.cartCollapse.collapse(),this.favCollapse.collapse()},toggleCart(){this.navCollapse.collapse(),this.favCollapse.collapse()},toggleFav(){this.navCollapse.collapse(),this.cartCollapse.collapse()},...P(M,["getCart","updateCart","deleteCart","deleteCartSpec"]),...P(V,["getFavorite","updateFavorite"])},computed:{...S(M,["cart","cartLoading"]),...S(V,["favorites"])},watch:{$route(s,o){s.fullPath!==o.fullPath&&(this.$route.fullPath==="/reserve"?this.targetLink="reserve":this.$route.fullPath==="/order"?this.targetLink="order":this.$route.fullPath==="/products"?this.targetLink="products":this.targetLink="")}},mounted(){window.addEventListener("scroll",this.onScroll);const{navMenu:s,navBtn:o,navCart:k,navCartBtn:C,navFav:n,navFavBtn:a}=this.$refs,d={onExpand:()=>{this.navToggled=!0},onCollapse:()=>{this.navToggled=!1}};this.navCollapse=new N(s,o,d),this.cartCollapse=new N(k,C),this.favCollapse=new N(n,a),this.$route.fullPath==="/reserve"?this.targetLink="reserve":this.$route.fullPath==="/order"?this.targetLink="order":this.$route.fullPath==="/products"?this.targetLink="products":this.targetLink="",this.getCart(),this.getFavorite()},beforeUnmount(){window.removeEventListener("scroll",this.onScroll)}},O={class:"w-full px-4 lg:px-24 py-4 bg-white/10"},X={class:"container flex flex-wrap items-center justify-between"},G=e("img",{src:q,class:"h-16 mr-3",alt:"MetaverSpace"},null,-1),J=e("span",{class:"self-center text-2xl font-bold whitespace-nowrap text-white"},"MetaverSpace",-1),K={class:"flex items-center lg:order-2 ml-auto lg:ml-0 relative"},Q={class:"group"},W={key:0,class:"absolute inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-warm border-2 border-white rounded-full -top-2 -right-2 cursor-pointer"},Y={class:"p-2 bg-white/10"},Z={class:"text-sm text-white max-h-80 overflow-y-auto"},ee={class:"basis-1/6 ml-2 hidden sm:flex justify-center items-center"},te=["src"],se={class:"flex flex-col flex-1 h-14 ml-2 justify-between overflow-hidden"},oe={class:"basis text-left font-bold whitespace-nowrap truncate"},le={class:"basis text-gray-300 text-left"},re={class:"basis-1/12 flex justify-center items-center mx-1"},ae={class:"flex justify-between items-center mt-2 mb-1 mx-1 pt-2 text-white border-t"},ie={key:0,class:"text-sm"},ne={key:1,class:"text-sm"},de={class:"group"},ce={key:0,class:"absolute inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-warm border-2 border-white rounded-full -top-2 -right-2 cursor-pointer"},pe={class:"p-2 bg-white/10"},he={class:"text-sm text-white max-h-80 overflow-y-auto"},ue={class:"basis-1/6 ml-2 hidden sm:flex justify-center mt-1"},ve=["src"],ge={class:"flex flex-col flex-1 ml-2 justify-between overflow-hidden"},fe={class:"flex justify-between items-end text-gray-300 mb-4"},me={class:"basis text-left font-bold truncate"},_e={class:"mx-2 whitespace-nowrap"},xe={class:"truncate"},we=["onClick","disabled"],be={class:"ml-2 whitespace-nowrap"},ye=e("span",null,"數量：",-1),ke=["onUpdate:modelValue","onChange","disabled"],Ce={key:1,class:"flex justify-end items-center"},Le=e("span",null,"數量：",-1),je=["onUpdate:modelValue","onChange","disabled"],$e={class:"basis-1/12 flex justify-center mx-1 mt-1"},Ne={key:1,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Fe=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),ze=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Se=[Fe,ze],Be={class:"flex justify-between items-center mt-2 mb-1 mx-1 pt-2 text-white border-t"},Te={key:0,class:"text-sm"},Me={key:1,class:"text-sm"},Ve=e("span",{class:"sr-only"},"Open main menu",-1),Pe=e("svg",{class:"w-8 h-8","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),Re=[Ve,Pe],Ue={class:"items-center justify-between hidden w-full lg:flex lg:w-auto",ref:"navMenu"},Ee={class:"flex flex-col p-4 mt-4 text-white text-lg text-center lg:flex-row lg:space-x-8 lg:mt-0 lg:text-md lg:items-center lg:font-medium rounded gap-2.5 border lg:border-0 border-white/87 nav-menu-shadow"};function He(s,o,k,C,n,a){var _,f,w,B;const d=m("RouterLink"),h=m("font-awesome-icon");return l(),r("nav",{class:v(["w-full gap-2.5 fixed z-30 top-0 left-0 flex justify-center backdrop-opacity-[2px] border border-white/38",{"bg-dark":n.windowTop>100||n.navToggled||s.$route.fullPath!="/"}])},[e("div",O,[e("div",X,[i(d,{to:"/",class:"flex items-center",onClick:o[0]||(o[0]=t=>n.targetLink="")},{default:p(()=>[G,J]),_:1}),e("div",K,[e("div",{ref:"navFavBtn",class:"relative",onClick:o[3]||(o[3]=x((...t)=>a.toggleFav&&a.toggleFav(...t),["stop"]))},[e("div",Q,[i(h,{icon:["fas","heart"],class:"text-white text-2xl text-center cursor-pointer group-hover:text-primary"}),s.favorites.length>0?(l(),r("div",W,c(s.favorites.length),1)):y("",!0)]),e("div",{ref:"navFav",class:"w-[240px] sm:w-[360px] z-10 hidden rounded-md shadow absolute top-14 sm:top-16 lg:top-[72px] -right-36 backdrop-opacity-[2px] border border-white/38 bg-dark",onClick:o[2]||(o[2]=x((...t)=>a.toggleFav&&a.toggleFav(...t),["stop"]))},[e("div",Y,[e("ul",Z,[(l(!0),r(F,null,z(s.favorites,(t,L)=>(l(),r("li",{key:t.id},[e("div",{class:v(["flex py-2 border-dashed",{"border-t":L!==0}])},[e("div",ee,[e("img",{src:t.imageUrl,class:"w-14 h-14 object-cover bg-white"},null,8,te)]),e("div",se,[e("p",oe,c(t.title),1),e("p",le," NT$ "+c(s.$filters.currency(t.price)),1)]),e("div",re,[i(h,{icon:["fas","xmark"],size:"2x",class:"text-center cursor-pointer hover:text-warm",onClick:j=>s.updateFavorite(t)},null,8,["onClick"])])],2)]))),128))]),e("div",ae,[s.favorites.length>0?(l(),r("p",ie," 共 "+c(s.favorites.length)+" 種商品 ",1)):(l(),r("p",ne,"沒有收藏商品")),i(d,{to:{name:"收藏清單"},onClick:o[1]||(o[1]=()=>{a.hideCollapse(),n.targetLink=""}),class:"relative primary-solid-button"},{default:p(()=>[g("查看收藏")]),_:1})])])],512)],512),e("div",{ref:"navCartBtn",class:"ml-8 relative",onClick:o[6]||(o[6]=x((...t)=>a.toggleCart&&a.toggleCart(...t),["stop"]))},[e("div",de,[i(h,{icon:["fas","shopping-cart"],class:"text-white text-2xl text-center cursor-pointer group-hover:text-primary"}),((_=s.cart.carts)==null?void 0:_.length)>0?(l(),r("div",ce,c((f=s.cart.carts)==null?void 0:f.length),1)):y("",!0)]),e("div",{ref:"navCart",class:"w-[240px] sm:w-[360px] z-10 hidden rounded-md shadow absolute top-14 sm:top-16 lg:top-[72px] -right-20 backdrop-opacity-[2px] border border-white/38 bg-dark",onClick:o[5]||(o[5]=x((...t)=>a.toggleCart&&a.toggleCart(...t),["stop"]))},[e("div",pe,[e("ul",he,[(l(!0),r(F,null,z(s.cart.carts,(t,L)=>{var j;return l(),r("li",{key:t.id},[e("div",{class:v(["flex py-2 border-dashed",{"border-t":L!==0}])},[e("div",ue,[e("img",{src:t.product.imageUrl,class:"w-14 h-14 object-cover bg-white"},null,8,ve)]),e("div",ge,[e("div",fe,[e("p",me,c(t.product.title),1),e("p",_e," NT$ "+c(s.$filters.currency(t.final_total)),1)]),(j=t.cart_spec)!=null&&j.length?(l(!0),r(F,{key:0},z(t.cart_spec,(u,b)=>{var T;return l(),r("div",{class:v(["flex justify-between items-center",{"mt-2":b>0}]),key:b},[e("div",xe,[((T=t.cart_spec)==null?void 0:T.length)>1?(l(),r("button",{key:0,type:"button",class:"mr-1 cursor-pointer hover:text-warm disabled:text-gray-400 disabled:cursor-not-allowed",onClick:$=>s.deleteCartSpec(t,b),disabled:s.cartLoading.cartId===t.id},[i(h,{icon:["fas","circle-xmark"]})],8,we)):y("",!0),e("span",null,"規格："+c(u.title),1)]),e("div",be,[ye,R(e("input",{type:"number",min:"1",class:"rounded text-sm text-dark text-right focus:ring-primary0 focus:border-primary0 h-6 w-11 mr-1 disabled:text-gray-400","onUpdate:modelValue":$=>u.qty=$,onChange:$=>s.updateCart(t,b),disabled:s.cartLoading.cartId===t.id},null,40,ke),[[U,u.qty,void 0,{lazy:!0}]])])],2)}),128)):(l(),r("div",Ce,[Le,R(e("input",{type:"number",min:"1",class:"rounded text-sm text-dark text-right focus:ring-primary0 focus:border-primary0 h-6 w-11 mr-1 disabled:text-gray-400","onUpdate:modelValue":u=>t.qty=u,onChange:u=>s.updateCart(t),disabled:s.cartLoading.cartId===t.id},null,40,je),[[U,t.qty,void 0,{lazy:!0}]])]))]),e("div",$e,[s.cartLoading.cartId!==t.id?(l(),H(h,{key:0,icon:["fas","trash-can"],size:"lg",class:"text-center cursor-pointer hover:text-warm",onClick:u=>s.deleteCart(t.id)},null,8,["onClick"])):(l(),r("svg",Ne,Se))])],2)])}),128))]),e("div",Be,[((w=s.cart.carts)==null?void 0:w.length)>0?(l(),r("p",Te," 共 "+c((B=s.cart.carts)==null?void 0:B.length)+" 種商品 ",1)):(l(),r("p",Me,"購物車沒有商品")),i(d,{to:{name:"購物車"},onClick:o[4]||(o[4]=()=>{a.hideCollapse(),n.targetLink=""}),class:"relative primary-solid-button"},{default:p(()=>[g("前往購物車")]),_:1})])])],512)],512),e("button",{ref:"navBtn",type:"button",class:"inline-flex items-center p-2 ml-8 text-sm text-white rounded-lg lg:hidden hover:bg-primary",onClick:o[7]||(o[7]=x((...t)=>a.toggleNav&&a.toggleNav(...t),["stop"]))},Re,512)]),e("div",Ue,[e("ul",Ee,[e("li",null,[i(d,{to:{name:"預約體驗"},class:v(["block py-2 pl-3 pr-4 text-white",[n.targetLink==="reserve"?"bg-primary rounded-lg lg:p-2":"hover:text-primary lg:mt-0 lg:p-0"]]),onClick:o[8]||(o[8]=t=>n.targetLink="reserve")},{default:p(()=>[g("預約體驗 ")]),_:1},8,["class"])]),e("li",null,[i(d,{to:{name:"交易紀錄"},class:v(["block py-2 pl-3 pr-4 text-white",[n.targetLink==="order"?"bg-primary rounded-lg lg:p-2":"hover:text-primary lg:mt-0 lg:p-0"]]),onClick:o[9]||(o[9]=t=>n.targetLink="order")},{default:p(()=>[g("交易記錄 ")]),_:1},8,["class"])]),e("li",null,[i(d,{to:{name:"商品列表"},class:v(["block py-2 pl-3 pr-4 text-white",[n.targetLink==="products"?"bg-primary rounded-lg lg:p-2":"hover:text-primary lg:mt-0 lg:p-0"]]),onClick:o[10]||(o[10]=t=>n.targetLink="products")},{default:p(()=>[g("商品列表 ")]),_:1},8,["class"])])])],512)])])],2)}const qe=E(D,[["render",He]]);const Ae={methods:{hideNavCollapse(){this.$refs.navbar.hideCollapse()}},computed:{...S(A,["loadings"])},components:{Navbar:qe}},Ie={class:"main-area"},De={key:0,class:"bg-black/50 mt-8"},Oe={class:"py-24 px-2 lg:px-40"},Xe={class:"container grid grid-cols-1 lg:grid-cols-3 gap-6"},Ge=I('<div><h3 class="text-3xl font-bold">商品專區</h3><div class="grid grid-cols-2 gap-2 mt-6"><div><a href="#" class="hover:underline">擴增實境 (AR)</a></div><div><a href="#" class="hover:underline">混合實境 (MR)</a></div><div><a href="#" class="hover:underline">虛擬實境 (VR)</a></div><div><a href="#" class="hover:underline">延展實境 (XR)</a></div></div></div><div><h3 class="text-3xl font-bold">記錄查詢</h3><div class="grid grid-cols-1 gap-2 mt-6"><div><a href="#" class="hover:underline">交易記錄</a></div><div><a href="#" class="hover:underline">預約記錄</a></div></div></div>',2),Je=e("h3",{class:"text-3xl font-bold"},"聯絡我們",-1),Ke={class:"grid grid-cols-2 gap-2 mt-6"},Qe={class:"col-span-2"},We={class:"whitespace-nowrap"},Ye=e("span",null,"(01) 2345 6789",-1),Ze={class:"flex items-center justify-end mr-6 md:mr-0"},et={class:"flex justify-center items-center bg-black py-6"},tt=e("p",{class:"mx-6"},"Copyright © 2023 Ezekiel Lin. All Rights Reserved",-1);function st(s,o,k,C,n,a){const d=m("Navbar"),h=m("router-view"),_=m("router-link"),f=m("font-awesome-icon");return l(),r("div",{class:"bg-dark text-white main-height-full",onClick:o[0]||(o[0]=(...w)=>a.hideNavCollapse&&a.hideNavCollapse(...w))},[e("div",Ie,[i(d,{ref:"navbar"},null,512),e("main",null,[i(h)])]),!s.loadings.fullLoading&&s.loadings.opacity!==1?(l(),r("footer",De,[e("section",Oe,[e("div",Xe,[Ge,e("div",null,[Je,e("div",Ke,[e("div",Qe,[i(_,{to:"/contact",target:"_blank",class:"hover:underline"},{default:p(()=>[g("留言板")]),_:1})]),e("div",We,[i(f,{icon:["fas","phone"],class:"mr-2"}),Ye]),e("div",Ze,[i(f,{icon:["fab","facebook"],class:"cursor-pointer text-3xl mr-2"}),i(f,{icon:["fab","instagram"],class:"cursor-pointer text-3xl"})])])])])]),e("div",et,[tt,i(_,{to:"/admin/products",class:"dark-solid-button",target:"_blank"},{default:p(()=>[g("開啟後台")]),_:1})])])):y("",!0)])}const it=E(Ae,[["render",st]]);export{it as default};
