import{f as h}from"./favoriteStore-910f80b1.js";import{c as f}from"./cartStore-581299b9.js";import{_ as F,m as x,a as g,c as a,b as t,d as i,w as v,f as b,F as w,g as y,r as k,o,h as d,n as $,j as B,t as n,i as j,x as V}from"./index-bcb3825a.js";import{s as L}from"./swal-e4da1902.js";const T={mixins:[L],methods:{moveToCart(e,l){this.cart.carts.some(m=>m.product_id===e.id)?this.userToast("warning","此商品已在購物車"):this.addCart(e,1,l)},deleteFavorite(e){this.$swal.fire({title:"刪除收藏商品",text:`確定要刪除 ${e.title}？`,icon:"warning",confirmButtonColor:"#FE5F50",confirmButtonText:"確定刪除",backdrop:" rgba(0,0,0,0.8)",showCancelButton:!0,cancelButtonColor:"#6b7280"}).then(l=>{l.isConfirmed&&this.updateFavorite(e)})},...x(h,["getFavorite","updateFavorite"]),...x(f,["addCart"])},computed:{...g(h,["favorites","cart_specs"]),...g(f,["cartLoading","cart"])},mounted(){}},N={class:"mt-nav"},S={class:"container px-2 md:px-0 pt-8"},A={class:"border-2 rounded-lg xl:mx-48 overflow-hidden"},I=t("h1",{class:"p-4 bg-black/50 text-xl font-bold border-b-2"},"收藏清單",-1),U={key:0,class:"mt-10 flex flex-col items-center pb-6"},z=t("p",{class:"text-2xl md:text-3xl"},"收藏清單沒有商品",-1),M={class:"px-8 pb-4"},D={class:"flex justify-between items-center mb-4"},E={key:1,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},R=t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),q=t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),H=[R,q],G={class:"grid grid-cols-5 gap-6"},J=["src","alt"],K={class:"col-span-full md:col-span-4 flex flex-col justify-between"},O={class:"text-lg lg:text-xl"},P={class:"text-xl lg:text-2xl mt-4 lg:mt-6"},Q={class:"md:flex justify-between items-center mt-4"},W={class:"text-lg lg:text-xl"},X={class:"font-bold"},Y={class:"flex flex-col sm:flex-row justify-between sm:justify-end items-end md:items-end mt-4 md:mt-1"},Z={key:0,class:"text-sm sm:mr-3"},tt={key:1},et=["id","onUpdate:modelValue"],st=t("option",{selected:"",disabled:"",value:"",class:"bg-dark/10"}," 選擇規格 ",-1),ot=["value"],at=["disabled","onClick"];function rt(e,l,m,ct,lt,_){const p=k("RouterLink"),u=k("FontAwesomeIcon");return o(),a("div",N,[t("div",S,[t("div",A,[I,e.favorites.length?b("",!0):(o(),a("div",U,[z,i(p,{to:"./products",class:"primary-button mt-4"},{default:v(()=>[d("前往商店")]),_:1})])),t("ul",M,[(o(!0),a(w,null,y(e.favorites,(s,r)=>(o(),a("li",{class:$(["py-8",{"border-t":r>0}]),key:s.id},[t("div",D,[i(p,{to:`/product/${s.id}`,class:"mt-2 sm:mt-0 sm:mr-4 dark-solid-button py-2 whitespace-nowrap"},{default:v(()=>[d(" 查看商品 "),i(u,{icon:["fas","arrow-up-right-from-square"],class:"ml-1 text-sm lg:text-md"})]),_:2},1032,["to"]),e.cartLoading.cartId!==s.id?(o(),B(u,{key:0,icon:["fas","trash-can"],class:"text-xl lg:text-2xl hover:text-warm cursor-pointer",onClick:c=>_.deleteFavorite(s)},null,8,["onClick"])):(o(),a("svg",E,H))]),t("div",G,[t("img",{src:s.imageUrl,alt:s.title,class:"hidden md:flex self-center w-full h-28 lg:h-32 xl:h-40 object-cover rounded bg-white"},null,8,J),t("div",K,[t("h2",O,n(s.brand),1),t("h3",P,n(s.title),1),t("div",null,[t("div",Q,[t("h5",W,[d(" 售價："),t("span",X,"NT$ "+n(e.$filters.currency(s.price)),1)]),t("div",Y,[s.spec?(o(),a("p",Z," ※ 請先選擇規格 ")):(o(),a("div",tt)),s.spec?j((o(),a("select",{key:2,id:`spec${r}`,class:"mt-4 sm:mt-0 border text-sm rounded p-2 bg-gray-600 border-gray-500 text-white focus:ring-primary","onUpdate:modelValue":c=>e.cart_specs[r]=c},[st,(o(!0),a(w,null,y(s.spec,(c,C)=>(o(),a("option",{key:C,value:c,class:"bg-dark/10"},n(c),9,ot))),128))],8,et)),[[V,e.cart_specs[r]]]):b("",!0),t("button",{type:"button",class:"mt-4 sm:mt-0 primary-button sm:ml-3",disabled:s.spec&&!e.cart_specs[r]||e.cartLoading.cartId===s.id,onClick:c=>_.moveToCart(s,e.cart_specs[r])}," 加入購物車 ",8,at)])])])])])],2))),128))])])])])}const _t=F(T,[["render",rt]]);export{_t as default};
