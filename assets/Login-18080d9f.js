import{s as f}from"./swal-3e866175.js";import{_,a as g,l as x,c as h,d as o,w,b as s,r as l,o as V,n as u}from"./index-29ad0527.js";const{VITE_API:y}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"metaverspace",BASE_URL:"/MetaverSpace",MODE:"production",DEV:!1,PROD:!0,SSR:!1},k={mixins:[f],data(){return{user:{}}},methods:{login(){const n=`${y}/admin/signin`;this.loadings.fullLoading=!0,this.$http.post(n,this.user).then(e=>{const{token:d,expired:i}=e.data;document.cookie=`loginToken=${d};expires=${new Date(i)};`,this.$router.push("/admin/products")}).catch(e=>{this.loadings.fullLoading=!1,this.adminToast("error",e.response.data.message)})}},computed:{...g(x,["loadings"])}},E={class:"container mt-40 flex flex-col justify-center"},v=s("h1",{class:"w-full py-5 text-center text-3xl font-bold text-teal-600 border-b-4 border-teal-800"}," 後台管理系統 ",-1),S={class:"mb-6"},T=s("label",{for:"email",class:"block mb-2 text-md font-medium text-gray-900"},"帳號",-1),I={class:"mb-6"},M=s("label",{for:"password",class:"block mb-2 text-md font-medium text-gray-900"},"密碼",-1),P=["disabled"];function A(n,e,d,i,t,p){const m=l("V-field"),c=l("ErrorMessage"),b=l("V-form");return V(),h("div",E,[v,o(b,{class:"pt-10 w-80 mx-auto",onSubmit:p.login},{default:w(({errors:a})=>[s("div",S,[T,o(m,{type:"email",id:"email",name:"email",placeholder:"請輸入Email",modelValue:t.user.username,"onUpdate:modelValue":e[0]||(e[0]=r=>t.user.username=r),autofocus:"",class:u(["bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 block w-full p-2.5",[a.email?"bg-rose-100 border-rose-500":""]]),rules:"required|email"},null,8,["modelValue","class"]),o(c,{name:"email",class:"mt-2 ml-2 text-sm text-rose-500"})]),s("div",I,[M,o(m,{type:"password",id:"password",name:"password",modelValue:t.user.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.user.password=r),placeholder:"Password",class:u(["bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 block w-full p-2.5",[a.password?"bg-rose-100 border-rose-500":""]]),rules:"required"},null,8,["modelValue","class"]),o(c,{name:"password",class:"mt-2 ml-2 text-sm text-rose-500"})]),s("button",{type:"submit",class:"w-full admin-primary-button",disabled:Object.keys(a).length}," 登入 ",8,P)]),_:1},8,["onSubmit"])])}const L=_(k,[["render",A]]);export{L as default};
