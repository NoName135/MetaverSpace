import{_,a as w,l as y,c as g,b as e,d as t,w as E,r as c,o as h,n as a,F as k,g as v,t as F}from"./index-e2835f32.js";import{s as V}from"./swal-e4da1902.js";const{VITE_RENDER_API:A}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"metaverspace",VITE_RENDER_API:"https://metarverspace-server.onrender.com",BASE_URL:"/MetaverSpace/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},I={mixins:[V],data(){return{images:[]}},methods:{sendQuest(s){console.log(s),this.loadings.fullLoading=!0,this.$http.post(`${A}/contacts`,{name:s.姓名.trim(),tel:s.電話,email:s.email,images:this.images,content:s.遇到的問題}).then(()=>{this.$refs.form.resetForm(),this.images=[],this.loadings.fullLoading=!1,this.userToast("success","成功提交問題")}).catch(r=>{this.loadings.fullLoading=!1,this.userToast("error",r.message)})},handleFile(s){console.log(s.target.files[0]);const r=s.target.files[0],d=new FormData;if(d.append("image",r),r.size>2*1024*1024){this.userAlert("warning","圖片上傳失敗","圖片需小於 2MB");return}r&&(this.loadings.fullLoading=!0,this.$http.post("https://api.imgur.com/3/image",d,{headers:{Authorization:"Client-ID 0361c3fa7d90333"},mimeType:"multipart/form-data"}).then(o=>{this.images.push({name:r.name,src:o.data.data.link}),this.loadings.fullLoading=!1,this.userToast("success","圖片上傳成功")}).catch(o=>{this.loadings.fullLoading=!1,this.userAlert("error","圖片上傳失敗",o.response.data.data.error)}))}},computed:{...w(y,["loadings"])}},D={class:"container mt-nav"},S={class:"pt-6 px-2 w-full max-w-2xl mx-auto"},T=e("h1",{class:"bg-white/20 border text-gray-300 py-6 text-xl md:text-2xl text-center rounded-t"}," 聯絡客服團隊 ",-1),q={class:"pb-6 border-b"},C=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-white"},"您的姓名",-1),L=e("label",{for:"tel",class:"block mt-6 mb-2 text-sm font-medium text-white"},"您的電話 (請輸入手機格式：09)",-1),M=e("label",{for:"email",class:"block mt-6 mb-2 text-sm font-medium text-white"},"您的Email",-1),R=e("label",{for:"message",class:"block mt-6 mb-2 text-sm font-medium text-white"},"您遇到的問題",-1),B={class:"mt-6 mb-4 md:mb-6 flex flex-col md:flex-row"},P=["disabled"],N=e("p",{class:"mt-6 md:mt-0 md:ml-4 text-sm md:text-md"}," (最多 5 張圖，圖片需小於 2MB) ",-1),z=e("p",{class:"mt-4 text-sm md:text-md"}," 您提供之姓名、電子信箱等個人資料僅供本服務相關目的及範圍內處理或使利用，絕對不向任何人提供您的個人資訊。 ",-1),j=e("div",{class:"mt-6 w-full flex justify-end"},[e("button",{type:"submit",class:"primary-button"},"提交問題")],-1);function O(s,r,d,o,l,u){const i=c("VField"),n=c("ErrorMessage"),x=c("FontAwesomeIcon"),b=c("VForm");return h(),g("div",D,[e("div",S,[T,t(b,{ref:"form",class:"border px-4 py-8 rounded-b",onSubmit:u.sendQuest},{default:E(({errors:m})=>[e("div",q,[C,t(i,{type:"text",id:"name",name:"姓名",class:a(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":m.姓名}]),rules:"required",placeholder:"請輸入姓名",required:""},null,8,["class"]),t(n,{name:"姓名",class:"text-warm text-sm"}),L,t(i,{type:"tel",id:"tel",name:"電話",class:a(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":m.電話}]),rules:"required|phone",placeholder:"請輸入電話",required:""},null,8,["class"]),t(n,{name:"電話",class:"text-warm text-sm"}),M,t(i,{type:"email",id:"email",name:"email",class:a(["border text-sm rounded-lg block w-full p-2.5 bg-gray-600 border-gray-500 placeholder-gray-400 text-white focus:ring-primary focus:border-primary",{"border-warm":m.email}]),rules:"required|email",placeholder:"請輸入Email",required:""},null,8,["class"]),t(n,{name:"email",class:"text-warm text-sm"}),R,t(i,{id:"message",name:"遇到的問題",as:"textarea",rows:"4",class:a(["block p-2.5 w-full text-sm bg-gray-600 border-gray-500 placeholder-gray-400 rounded-lg border focus:ring-primary focus:border-primary text-white",{"border-warm":m.遇到的問題}]),rules:"required",placeholder:"請詳述您的問題",required:""},null,8,["class"]),t(n,{name:"遇到的問題",class:"text-warm text-sm"}),e("div",B,[e("div",null,[e("label",{for:"file",class:a(["whitespace-nowrap w-20 focus:outline-none focus:ring-4 font-medium rounded text-sm px-5 py-2.5 hover:bg-secondary2 focus:ring-secondary3",[l.images.length===5?"bg-secondary2 text-gray-400 cursor-not-allowed":"bg-secondary cursor-pointer"]])},"上傳圖片",2),e("input",{id:"file",type:"file",accept:"image/png, image/jpeg",class:"absolute top-0 w-0",onChange:r[0]||(r[0]=(...p)=>u.handleFile&&u.handleFile(...p)),disabled:l.images.length===5},null,40,P)]),N]),(h(!0),g(k,null,v(l.images,(p,f)=>(h(),g("div",{class:"ml-4 flex items-center",key:f},[e("p",null,F(p.name),1),t(x,{icon:["fas","xmark"],class:"ml-4 cursor-pointer text-warm hover:text-warm2 text-lg",onClick:Q=>l.images.splice(f,1)},null,8,["onClick"])]))),128))]),z,j]),_:1},8,["onSubmit"])])])}const H=_(I,[["render",O]]);export{H as default};
